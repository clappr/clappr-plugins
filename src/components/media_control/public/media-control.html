<div class="media-control-background" data-background></div>
<div class="media-control-layer" data-controls>
  <% var renderBar = function(name) { %>
      <div class="bar-container" data-<%= name %>>
        <div class="bar-background" data-<%= name %>>
          <div class="bar-fill-1" data-<%= name %>></div>
          <div class="bar-fill-2" data-<%= name %>></div>
          <div class="bar-hover" data-<%= name %>></div>
        </div>
        <div class="bar-scrubber" data-<%= name %>>
          <div class="bar-scrubber-icon" data-<%= name %>></div>
        </div>
      </div>
  <% }; %>
  <% var renderSegmentedBar = function(name, segments) { %>
    <div class="segmented-bar" data-<%= name %>>
      <div class="segmented-bar-icon-container" data-<%= name %>>
        <div class="segmented-bar-icon media-control-icon" data-<%= name %>></div>
        <span class="segmented-bar-text" data-<%= name %>></span>
      </div>
      <div class="segmented-bar-container" data-<%= name %>>
      <% for (var i = 0; i < segments; i++) { %>
        <div class="segmented-bar-element" data-<%= name %>></div>
      <% } %>
      </div>
    </div>
  <% }; %>
  <% var renderIndicator = function(name) { %>
      <div class="media-control-indicator" data-<%= name %>></div>
  <% }; %>
  <% var renderButton = function(name) { %>
      <button class="media-control-button media-control-icon" data-<%= name %>></button>
  <% }; %>
  <% var render = function(settings) {
      _.each(settings, function(setting) {
        if(setting === "seekbar") {
          renderBar(setting);
        } else if (setting === "volume") {
          renderSegmentedBar(setting, 10);
        } else if (setting === "duration" || setting === "position") {
          renderIndicator(setting);
        } else {
          renderButton(setting);
        }
      });
    }; %>
  <% if (settings.default && settings.default.length) { %>
  <div class="media-control-center-panel" data-media-control>
    <% render(settings.default); %>
  </div>
  <% } %>
  <% if (settings.left && settings.left.length) { %>
  <div class="media-control-left-panel" data-media-control>
    <% render(settings.left); %>
  </div>
  <% } %>
  <% if (settings.right && settings.right.length) { %>
  <div class="media-control-right-panel" data-media-control>
    <% render(settings.right); %>
  </div>
  <% } %>
</div>
